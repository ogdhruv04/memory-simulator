# =============================================================================
# WORKLOAD 5: Edge Cases and Error Handling
# =============================================================================
# Tests boundary conditions and error scenarios
# =============================================================================

# -----------------------------------------------------------------------------
# TEST 1: Operations before initialization (should show errors)
# -----------------------------------------------------------------------------
malloc 100
free 1
dump memory
stats

# -----------------------------------------------------------------------------
# TEST 2: Initialize and test zero/invalid allocations
# -----------------------------------------------------------------------------
init memory 256

malloc 0

# -----------------------------------------------------------------------------
# TEST 3: Exact fit allocation (no splitting needed)
# -----------------------------------------------------------------------------
malloc 256

dump memory
stats

free 1

# -----------------------------------------------------------------------------
# TEST 4: Allocate more than available
# -----------------------------------------------------------------------------
malloc 300

stats

# -----------------------------------------------------------------------------
# TEST 5: Double free attempt
# -----------------------------------------------------------------------------
malloc 100
free 1
free 1

# -----------------------------------------------------------------------------
# TEST 6: Free non-existent block
# -----------------------------------------------------------------------------
free 999

# -----------------------------------------------------------------------------
# TEST 7: Minimum allocation
# -----------------------------------------------------------------------------
init memory 1024

malloc 1
malloc 1
malloc 1

dump memory

free 1
free 2
free 3

dump memory
stats

# -----------------------------------------------------------------------------
# TEST 8: Re-initialization (should clear everything)
# -----------------------------------------------------------------------------
malloc 100
malloc 200

dump memory

init memory 512

dump memory
stats

exit
